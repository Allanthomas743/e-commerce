<div *ngIf="!isLoading" class="products-wrapper">
    <form class="search-container">
        <input type="text" (input)="onSearchChange($event)" placeholder="Search..." />
    </form> 

    <div *ngIf="firebaseService.getArrayValues(array).length > 0 && searchError === ''" class="products">
        <div *ngFor="let product of firebaseService.getArrayValues(array)" class="product">
            <img src={{product.img}} alt="product img">
            <h2>{{product.name}}</h2>
            <div *ngIf="product.promotion" class="promotion">
                <p>
                    <span class="promo-price">${{ product.price }}</span> 
                    <span class="promotion-value">
                        {{ product.promotion }}% off
                    </span>
                </p>
            </div>
            <div *ngIf="product.promotion" class="price">${{ product.price - (product.price * (product.promotion / 100)) }}</div>
            <div *ngIf="!product.promotion" class="price">${{ product.price }}</div>
            <p class="description">
                {{ product.description }}
            </p>
            <p *ngIf="product.shipping === 0" class="shipping">
                Free shipping
            </p>
        </div>
    </div>

    <p *ngIf="searchError">{{searchError}}</p>
    <p *ngIf="firebaseService.getArrayValues(array).length === 0 && !searchError">No products have been published</p>
</div>

<app-spinner *ngIf="isLoading"></app-spinner>